{% extends "base.html" %}

{% block title %}Beranda - Manual Otomotif{% endblock %}

{% block content %}
<div class="page-header">
    <h2>
        <i class="fas fa-home"></i>
        Kategori Tersedia
    </h2>
    <div class="controls">
        <div class="view-toggle">
            <button class="active" onclick="toggleView('grid')">
                <i class="fas fa-th"></i>
            </button>
            <button onclick="toggleView('list')">
                <i class="fas fa-list"></i>
            </button>
        </div>
    </div>
</div>

<!-- Statistics -->
<div class="stats">
    <div class="stat-card">
        <div class="stat-icon blue">
            <i class="fas fa-folder"></i>
        </div>
        <div class="stat-info">
            <h4>Total Kategori</h4>
            <p>{{ root_list|length }}</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon green">
            <i class="fas fa-file-pdf"></i>
        </div>
        <div class="stat-info">
            <h4>Total File</h4>
            <p>{{ root_list|sum(attribute=2) }}</p>
        </div>
    </div>
    <div class="stat-card">
        <div class="stat-icon orange">
            <i class="fas fa-database"></i>
        </div>
        <div class="stat-info">
            <h4>Database</h4>
            <p>Aktif</p>
        </div>
    </div>
</div>

<!-- Categories Cards -->
<div class="cards-container">
    <!-- Card Workshop Manual (ditempatkan PERTAMA atau TERAKHIR) -->
    <div class="card" onclick="window.location.href='/workshop-manual'">
        <div class="card-icon">
            <i class="fas fa-book" style="color: #e74c3c;"></i>
        </div>
        <div class="card-content">
            <div class="card-title">Workshop Manual</div>
            <div class="card-meta">
                <span>Dokumen teknis lengkap</span>
            </div>
        </div>
    </div>

    <!-- Loop folder utama -->
    {% for name, folder_id, count in root_list %}
    <div class="card folder" onclick="window.location.href='/folder/{{ folder_id }}'">
        <div class="card-icon">
            {% if 'EBOOK' in name %}
                <i class="fas fa-book" style="color: #e74c3c;"></i>
            {% elif 'Pengetahuan' in name %}
                <i class="fas fa-brain" style="color: #9b59b6;"></i>
            {% else %}
                <i class="fas fa-wrench" style="color: #f39c12;"></i>
            {% endif %}
        </div>
        <div class="card-content">
            <div class="card-title">{{ name }}</div>
            <div class="card-meta">
                <span>
                    <i class="fas fa-file"></i>
                    {{ count }} item
                </span>
                <span>
                    <i class="fas fa-arrow-right"></i>
                </span>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<!-- Recent Section (if needed) -->
<div style="margin-top: 40px;">
    <h3 style="margin-bottom: 16px; color: var(--text-primary); font-size: 20px;">
        <i class="fas fa-clock"></i> Akses Cepat
    </h3>
    <div style="background: var(--bg-secondary); padding: 24px; border-radius: 12px; box-shadow: var(--shadow);">
        <p style="color: var(--text-secondary); margin-bottom: 12px;">
            Gunakan kotak pencarian di sidebar untuk menemukan manual dengan cepat.
        </p>
        <ul style="list-style: none; padding: 0;">
            <li style="margin: 8px 0; color: var(--text-secondary);">
                <i class="fas fa-search" style="color: var(--primary-color); margin-right: 8px;"></i>
                Cari berdasarkan nama file atau merek kendaraan
            </li>
            <li style="margin: 8px 0; color: var(--text-secondary);">
                <i class="fas fa-filter" style="color: var(--primary-color); margin-right: 8px;"></i>
                Filter berdasarkan kategori di sidebar
            </li>
            <li style="margin: 8px 0; color: var(--text-secondary);">
                <i class="fas fa-download" style="color: var(--primary-color); margin-right: 8px;"></i>
                Download file langsung dari preview
            </li>
        </ul>
    </div>
</div>
{% endblock %}